<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Fixed Player</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        /* Main Container */
        .player-box {
            position: relative;
            width: 100%;
            max-width: 900px;
            background: #000;
        }

        /* 16:9 Aspect Ratio */
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* --- THE HACK (Jugaad Layer) --- */
        
        /* 1. Ye layer asli button ke upar aa jayegi taaki uspe click na ho */
        .blocker-zone {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 60px;  /* Area width */
            height: 50px; /* Area height */
            background: transparent; /* Dikhai nahi dega par touch rok lega */
            z-index: 50; /* Iframe se upar */
            cursor: pointer;
        }

        /* 2. Hamara apna Icon jo Blocker ke upar dikhega */
        .custom-fs-icon {
            position: absolute;
            bottom: 12px; 
            right: 15px;
            width: 24px;
            height: 24px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-size: contain;
            z-index: 51; /* Blocker se bhi upar */
            pointer-events: none; /* Click blocker-zone pe jayega */
            filter: drop-shadow(0px 0px 3px rgba(0,0,0,0.8)); /* Shadow taaki saaf dikhe */
            opacity: 0.8;
        }

        /* --- FORCE FULLSCREEN CLASS --- */
        .force-max {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
            z-index: 99999 !important;
            padding: 0 !important;
            background: black;
        }
        
        .force-max iframe {
            height: 100% !important;
            width: 100% !important;
        }
        
        /* Fullscreen me icon change karne ke liye */
        .force-max .custom-fs-icon {
            /* Shrink icon */
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-14v3h3v2h-5V5z'/%3E%3C/svg%3E");
        }

        #error { display: none; color: red; font-family: monospace; }
    </style>
</head>
<body>

    <div class="player-box" id="mainContainer">
        <div class="video-wrapper">
            <iframe id="vidFrame" src="" allow="autoplay; fullscreen" allowfullscreen></iframe>
            
            <!-- YE HAI MAGIC: Asli button ko dhakne wala transparent box -->
            <div class="blocker-zone" onclick="doHardFullscreen()"></div>
            
            <!-- YE HAI HAMARA NAYA ICON -->
            <div class="custom-fs-icon"></div>
        </div>
    </div>
    
    <div id="error">LINK ME VIDEO ID MISSING HAI! (?v=...)</div>

    <script>
        // ðŸ‘‡ APNI LIBRARY ID YAHAN DALO ðŸ‘‡
        const LIB_ID = "547896"; 

        function init() {
            const params = new URLSearchParams(window.location.search);
            const vID = params.get('v');
            
            if(vID) {
                // Video Load karna
                document.getElementById('vidFrame').src = `https://iframe.mediadelivery.net/embed/${LIB_ID}/${vID}?autoplay=true&preload=true`;
            } else {
                document.getElementById('error').style.display = 'block';
            }
        }

        function doHardFullscreen() {
            const box = document.getElementById("mainContainer");
            const wrapper = document.querySelector(".video-wrapper");

            // Agar pehle se fullscreen hai, to wapas chhota karo
            if (box.classList.contains("force-max")) {
                box.classList.remove("force-max");
                wrapper.style.height = "0"; // Ratio wapas lao
                wrapper.style.paddingBottom = "56.25%";
                
                if (document.exitFullscreen) document.exitFullscreen();
            
            } else {
                // Fullscreen karo (Jad se pakad ke)
                box.classList.add("force-max");
                wrapper.style.height = "100%"; // Pura faila do
                wrapper.style.paddingBottom = "0";
                
                // Browser API bhi try karo backup ke liye
                if (box.requestFullscreen) {
                    box.requestFullscreen().catch(err => {
                        console.log("Browser blocked native FS, forcing CSS mode.");
                    });
                }
            }
        }

        window.onload = init;
    </script>

</body>
</html>
